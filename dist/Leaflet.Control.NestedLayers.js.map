{"version":3,"sources":["Leaflet.Control.NestedLayers.js"],"names":["NestedLayersComponent","props","Component","NestedLayerComponent","l","toggleSelected","swatch","length","name","propTypes","instanceOf","isRequired","NestedLayers","hierarchy","element","options","Error","_options","Object","assign","_component","_isAttached","attach","isAttachedz","render","component","isAttached","unmountComponentAtNode","_hierarchy","val","_element"],"mappings":";;;;;;;;;AAAA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEaA,qB,WAAAA,qB;;;AACX,iCAAYC,KAAZ,EAAmB;AAAA;;AAAA,yIACXA,KADW;AAEjB;AACD;;;;6BAEQ;AACP,aACE,0CADF;AAKD;;;;EAZwC,gBAAMC,S;;IAepCC,oB,WAAAA,oB;;;AACX,gCAAYF,KAAZ,EAAmB;AAAA;;AAAA,uIACXA,KADW;AAEjB;AACD;;;;6BAEQ;AACP,aACE;AAAA;AAAA,UAAI,WAAU,MAAd,EAAqB,SAAS,KAAKA,KAAL,CAAWG,CAAX,CAAaC,cAA3C;AACE,iDAAO,MAAK,UAAZ,GADF;AAEG,aAAKJ,KAAL,CAAWG,CAAX,CAAaE,MAAb,CAAoBC,MAApB,GAA6B,CAA7B,IACC,uCAAK,KAAI,4BAAT,EAAsC,WAAU,QAAhD,GAHJ;AAKE;AAAA;AAAA,YAAM,WAAU,YAAhB;AAA8B,eAAKN,KAAL,CAAWG,CAAX,CAAaI;AAA3C;AALF,OADF;AASD;;;;EAhBuC,gBAAMN,S;;AAmBhDC,qBAAqBM,SAArB,GAAiC;AAC/BL,KAAG,oBAAUM,UAAV,oBAAkCC;AADN,CAAjC;;IAIqBC,Y;;AAEnB;;;;;;;;;;AAUA,wBAAYC,SAAZ,EAAuBC,OAAvB,EAAgCC,OAAhC,EAAyC;AAAA;;AACvC,QAAI,OAAOF,SAAP,IAAoB,WAAxB,EAAqC;AACnC,YAAM,IAAIG,KAAJ,CAAU,sDAAV,CAAN;AACD;AACD,SAAKH,SAAL,GAAiBA,SAAjB;AACA,QAAI,OAAOC,OAAP,IAAkB,WAAtB,EAAmC;AACjC,YAAM,IAAIE,KAAJ,CAAU,oDAAV,CAAN;AACD;AACD,SAAKF,OAAL,GAAeA,OAAf;;AAEA;AACA,SAAKG,QAAL,GAAgB,EAAhB;AACAC,WAAOC,MAAP,CAAc,KAAKF,QAAnB,EAA6BF,OAA7B;;AAEA,SAAKK,UAAL,GAAkB,8BAAC,qBAAD,IAAuB,WAAW,KAAKP,SAAvC,GAAlB;;AAEA,SAAKQ,WAAL,GAAmB,KAAnB;;AAEA;AACA,SAAKC,MAAL;AACD;;;;;AAoCD;AACA;;AAEA;6BACS;AACP,UAAI,CAAC,KAAKC,WAAV,EAAuB;AACrB,2BAASC,MAAT,CACE,KAAKC,SADP,EAEE,KAAKX,OAFP;AAID;AACD,WAAKO,WAAL,GAAmB,IAAnB;AACD;;AAED;;;;6BACS;AACP,UAAI,KAAKK,UAAT,EAAqB;AACnB,2BAASC,sBAAT,CAAgC,KAAKb,OAArC;AACD;AACD,WAAKO,WAAL,GAAmB,IAAnB;AACD;;;wBAtDe;AACd,aAAO,KAAKO,UAAZ;AACD;AACD;;sBAIcC,G,EAAK;AACjB,WAAKD,UAAL,GAAkBC,GAAlB;AACD;;;wBALO;AACN,aAAO,KAAKhB,SAAZ;AACD;;;wBAKa;AACZ,aAAO,KAAKiB,QAAZ;AACD;AACD;;sBAIYD,G,EAAK;AACf,WAAKC,QAAL,GAAgBD,GAAhB;AACD;;;wBALQ;AACP,aAAO,KAAKf,OAAZ;AACD;;;wBAKe;AACd,aAAO,KAAKM,UAAZ;AACD;AACD;;;;wBACQ;AACN,aAAO,KAAKK,SAAZ;AACD;AACD;;;;wBAEiB;AACf,aAAO,KAAKJ,WAAZ;AACD;;;;;;kBAnEkBT,Y","file":"Leaflet.Control.NestedLayers.js","sourcesContent":["import L from 'leaflet-headless';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport LayerHierarchy from './Leaflet.LayerHierarchy';\nimport NestedLayer from './Leaflet.NestedLayer';\n\nexport class NestedLayersComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    // this.state = {date: new Date()};\n  }\n\n  render() {\n    return (\n      <div>\n\n      </div>\n    );\n  }\n}\n\nexport class NestedLayerComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    // this.state = {date: new Date()};\n  }\n\n  render() {\n    return (\n      <li className=\"leaf\" onClick={this.props.l.toggleSelected}>\n        <input type=\"checkbox\" />\n        {this.props.l.swatch.length > 0 &&\n          <img src=\"data:{this.props.l.swatch}\" className=\"swatch\" />\n        }\n        <span className=\"layer-name\">{this.props.l.name}</span>\n      </li>\n    );\n  }\n}\n\nNestedLayerComponent.propTypes = {\n  l: PropTypes.instanceOf(NestedLayer).isRequired\n};\n\nexport default class NestedLayers {\n\n  /*\n   * NestedLayers plugin\n   *\n   * Required Arguments\n   * hierarchy: LayerHierarchy object to represent; create this with L.layerHierarchy\n   * element: DOM element to attach to and render in\n   *\n   * Options\n   * n/a\n   */\n  constructor(hierarchy, element, options) {\n    if (typeof hierarchy == 'undefined') {\n      throw new Error('Missing hierarchy when creating NestedLayers control');\n    }\n    this.hierarchy = hierarchy;\n    if (typeof element == 'undefined') {\n      throw new Error('Missing element when creating NestedLayers control');\n    }\n    this.element = element;\n\n    // save the options\n    this._options = {};\n    Object.assign(this._options, options);\n\n    this._component = <NestedLayersComponent hierarchy={this.hierarchy} />\n\n    this._isAttached = false;\n\n    // bind to the DOM\n    this.attach();\n  }\n\n  get hierarchy() {\n    return this._hierarchy;\n  }\n  // shorthand convenience accessor\n  get h() {\n    return this.hierarchy;\n  }\n  set hierarchy(val) {\n    this._hierarchy = val;\n  }\n\n  get element() {\n    return this._element;\n  }\n  // shorthand convenience accessor\n  get el() {\n    return this.element;\n  }\n  set element(val) {\n    this._element = val;\n  }\n\n  get component() {\n    return this._component;\n  }\n  // short convenience accessor\n  get c() {\n    return this.component;\n  }\n  // no direct setting of 'component' from outside the class\n\n  get isAttached() {\n    return this._isAttached;\n  }\n  // no direct setting of 'isAttached' from outside the class\n  // the attach() and detach() methods handle this state\n\n  // bind to DOM\n  attach() {\n    if (!this.isAttachedz) {\n      ReactDOM.render(\n        this.component,\n        this.element\n      );\n    }\n    this._isAttached = true;\n  }\n\n  // unbind from DOM\n  detach() {\n    if (this.isAttached) {\n      ReactDOM.unmountComponentAtNode(this.element);\n    }\n    this._isAttached = true;\n  }\n\n}\n\n\n"],"sourceRoot":"/mnt/c/dev/Leaflet.Control.NestedLayers/src"}